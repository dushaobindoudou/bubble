# 🫧 Bubble Brawl 游戏设计文档
## Game Design Document (GDD)

**项目名称**: Bubble Brawl（泡泡大作战）  
**版本**: v1.0  
**设计师**: Game Designer  
**最后更新**: 2024年12月19日

---

## 📋 文档概览

### 游戏概念
**Bubble Brawl** 是一款基于Web的实时多人在线竞技小游戏，玩家操控可爱的泡泡角色，通过吸收能量点和吞噬其他玩家来成长，在成长与灵活性之间寻找平衡。

### 核心设计理念
- **简单易学，难以精通**：操作简单但策略深度丰富
- **可爱风格**：面向广泛受众，特别是女性玩家
- **社交互动**：支持多人实时对战和团队合作
- **快节奏**：单局时长适中，适合碎片化游戏

---

## 🎮 核心游戏机制

### 1. 移动系统
- **控制方式**：
  - PC端：鼠标指向移动
  - 移动端：虚拟摇杆控制
- **速度机制**：泡泡越大，移动速度越慢
- **边界限制**：地图边界阻挡，防止玩家越界

### 2. 成长系统
```
初始体积: 10
最大体积: 1000
成长公式: 新体积 = 当前体积 + 吸收物体积
速度公式: 速度 = 基础速度 × (体积^-0.439)
```

#### 2.1 能量点吸收
- **糖果能量点**：地图随机分布的彩色小点
- **体积增长**：每个能量点增加1单位体积
- **刷新机制**：被吃掉后在随机位置重新生成

#### 2.2 玩家吞噬
- **吞噬条件**：目标玩家体积需小于自己的80%
- **体积获得**：获得被吞噬玩家的全部体积
- **碰撞检测**：基于圆形碰撞体积计算

### 3. 技能系统

#### 3.1 加速技能 🚀
```
持续时间: 5秒
冷却时间: 10秒
速度倍率: 2倍
触发条件: 按下Shift键(PC) / 点击加速按钮(移动端)
```

#### 3.2 喂食技能 🍬
```
体积消耗: 当前体积的2%
冷却时间: 1秒
投掷距离: 50像素随机范围
最小体积: 10 (低于此值无法喂食)
```

### 4. 地图道具系统

#### 4.1 冰冻气泡 ❄️
- **效果**：踩中后3秒无法使用加速技能
- **外观**：蓝色半透明气泡，内含雪花图案
- **刷新**：每30秒在随机位置生成1个

#### 4.2 隐身药水 👻
- **效果**：8秒内其他玩家看不到自己的体积大小
- **外观**：紫色药水瓶，带有神秘光效
- **刷新**：每45秒在随机位置生成1个

#### 4.3 磁力圈 🧲
- **效果**：自动吸收范围内的能量点
- **范围**：以玩家为中心，半径100像素
- **持续**：15秒
- **外观**：金色光环围绕玩家

---

## 🎨 视觉设计规范

### 色彩方案
```css
主色调:
- 泡泡粉: #FFB6C1 (Light Pink)
- 海洋蓝: #87CEEB (Sky Blue)  
- 薄荷绿: #98FB98 (Pale Green)
- 柠檬黄: #FFFFE0 (Light Yellow)
- 薰衣草紫: #DDA0DD (Plum)

辅助色:
- 背景渐变: #667eea → #764ba2
- 文字主色: #333333
- 文字辅色: #666666
- 强调色: #FF6B6B (Coral)
```

### 字体规范
- **主标题**：Comic Sans MS, 32px, Bold
- **副标题**：Comic Sans MS, 24px, Medium  
- **正文**：Comic Sans MS, 16px, Regular
- **UI标签**：Comic Sans MS, 14px, Medium

### 泡泡设计原则
1. **渐变效果**：径向渐变营造立体感
2. **高光效果**：左上角白色高光增强质感
3. **边缘柔化**：避免硬边，保持圆润可爱
4. **透明度**：适度透明增加层次感

---

## 📱 用户界面设计

### 主菜单界面
```
布局结构:
┌─────────────────────────────────┐
│          🫧 Bubble Brawl        │
│           泡泡大作战             │
│                                │
│    [输入昵称]  [选择皮肤]        │
│                                │
│      [开始游戏]  [设置]          │
│                                │
│    [排行榜]  [商店]  [成就]      │
└─────────────────────────────────┘
```

### 游戏内HUD
```
PC端布局:
┌─────────────────────────────────┐
│ 体积:123  排名:5/20    [⚙️]     │
│                                │
│  排行榜                         │
│  1.Player1  156                │
│  2.Player2  134                │
│  3.Player3  128                │
│  4.You      123                │
│  5.Player5  119                │
│                                │
│                                │
│                                │
│              [技能冷却显示]      │
└─────────────────────────────────┘

移动端布局:
┌─────────────────────────────────┐
│ 体积:123  排名:5/20             │
│                                │
│                                │
│                                │
│                                │
│                                │
│                                │
│  🕹️                        🚀   │
│                           🍬   │
└─────────────────────────────────┘
```

---

## 🎵 音效设计

### 音效列表
1. **泡泡移动**：轻柔的气泡流动声
2. **吸收能量点**：清脆的"叮"声
3. **吞噬玩家**：满足的"咕噜"声
4. **被吞噬**：失望的"啵"声
5. **加速激活**：风声呼啸
6. **喂食投掷**：轻快的"嗖"声
7. **道具拾取**：魔法铃声
8. **背景音乐**：轻松愉快的电子音乐

### 音效规范
- **音量控制**：支持独立的音效和音乐音量调节
- **音效触发**：基于游戏事件实时播放
- **音质要求**：16bit, 44.1kHz, 压缩格式MP3/OGG
- **文件大小**：单个音效文件不超过100KB

---

## 🏆 游戏模式设计

### 1. 自由泡泡战 (FFA)
**目标**：成为体积最大的泡泡  
**规则**：
- 无时间限制
- 支持2-20人同时游戏
- 死亡后可立即重生
- 实时排行榜显示

### 2. 团队泡泡战 (Team)
**目标**：团队总体积超过对手  
**规则**：
- 红蓝两队对抗
- 每队最多10人
- 队友之间无法互相吞噬
- 可以给队友喂食

### 3. 限时排位战 (Ranked)
**目标**：10分钟内获得最高排名  
**规则**：
- 固定10分钟时长
- 8-12人参与
- 基于最终排名获得积分
- ELO评级系统

### 4. 好友自建房 (Custom)
**目标**：自定义游戏规则  
**规则**：
- 房主设置游戏参数
- 支持邀请好友
- 可调整地图大小、游戏时长等
- 不计入排位积分

---

## 🎭 角色皮肤系统

### 皮肤分类

#### 基础皮肤 (免费)
1. **经典粉泡**：渐变粉色，新手默认
2. **海洋蓝泡**：海洋主题，蓝色渐变
3. **薄荷绿泡**：清新绿色，自然风格

#### 主题皮肤 (付费/解锁)
1. **小猫系列**：
   - 橘猫泡泡：橘色条纹图案
   - 黑猫泡泡：黑色带黄眼睛
   - 白猫泡泡：纯白带粉鼻子

2. **宇航系列**：
   - 宇航员泡泡：银色金属质感
   - 火箭泡泡：红白条纹设计
   - 星球泡泡：土星环装饰

3. **甜品系列**：
   - 蛋糕泡泡：分层蛋糕外观
   - 甜甜圈泡泡：彩色糖霜装饰
   - 棉花糖泡泡：蓬松白色质感

### 特效边框
- **闪电环绕**：电流特效围绕泡泡
- **花瓣环绕**：樱花花瓣飘落效果
- **星光闪烁**：星星粒子特效
- **彩虹光环**：七彩光芒环绕

---

## 📊 数据与平衡性

### 核心数值表
| 参数 | 数值 | 说明 |
|------|------|------|
| 地图大小 | 5000×5000 | 像素单位 |
| 初始体积 | 10 | 新生泡泡大小 |
| 最大体积 | 1000 | 理论最大值 |
| 能量点数量 | 1000 | 地图总数 |
| 基础移动速度 | 50 | 像素/秒 |
| 加速倍率 | 2.0 | 速度提升倍数 |
| 加速持续时间 | 5秒 | 技能持续 |
| 加速冷却时间 | 10秒 | 技能冷却 |
| 喂食体积损失 | 2% | 当前体积比例 |
| 吞噬体积阈值 | 80% | 目标体积上限 |

### 平衡性考虑
1. **成长曲线**：体积增长带来速度劣势，平衡风险收益
2. **技能冷却**：防止技能过度使用，增加策略深度
3. **地图边界**：限制游戏区域，促进玩家互动
4. **重生机制**：快速重生保持游戏节奏

---

## 🔧 技术实现要点

### 客户端渲染
```javascript
// 泡泡渲染核心逻辑
function renderBubble(bubble) {
  const gradient = ctx.createRadialGradient(
    bubble.x, bubble.y, 0,
    bubble.x, bubble.y, bubble.radius
  );
  
  gradient.addColorStop(0, bubble.skin.innerColor);
  gradient.addColorStop(0.7, bubble.skin.middleColor);
  gradient.addColorStop(1, bubble.skin.outerColor);
  
  ctx.fillStyle = gradient;
  ctx.beginPath();
  ctx.arc(bubble.x, bubble.y, bubble.radius, 0, 2 * Math.PI);
  ctx.fill();
  
  // 高光效果
  renderHighlight(bubble);
  
  // 玩家名称
  renderPlayerName(bubble);
}
```

### 服务器同步
```javascript
// 游戏状态同步
const SYNC_RATE = 60; // 60 FPS
const UPDATE_INTERVAL = 1000 / SYNC_RATE;

setInterval(() => {
  updateGameState();
  broadcastGameState();
}, UPDATE_INTERVAL);
```

### 碰撞检测
```javascript
// 圆形碰撞检测
function checkCollision(bubble1, bubble2) {
  const dx = bubble1.x - bubble2.x;
  const dy = bubble1.y - bubble2.y;
  const distance = Math.sqrt(dx * dx + dy * dy);
  
  return distance < (bubble1.radius + bubble2.radius);
}
```

---

## 🎯 开发里程碑

### 阶段1：核心原型
- [ ] 基础泡泡移动系统
- [ ] 能量点吸收机制
- [ ] 玩家吞噬功能
- [ ] 简单UI界面
- [ ] 多人在线同步

### 阶段2：功能完善
- [ ] 加速技能实现
- [ ] 喂食技能实现
- [ ] 移动端适配
- [ ] 音效系统
- [ ] 皮肤系统基础

### 阶段3：内容扩展
- [ ] 地图道具系统
- [ ] 多种游戏模式
- [ ] 排行榜系统
- [ ] 成就系统
- [ ] 社交分享功能

### 阶段4：商业化
- [ ] 皮肤商店
- [ ] 付费内容
- [ ] 数据分析
- [ ] 用户反馈系统
- [ ] Web3集成准备

---

## 📈 成功指标

### 核心KPI
- **日活跃用户数 (DAU)**：目标1000+
- **平均游戏时长**：目标15分钟/会话
- **用户留存率**：
  - 次日留存：>40%
  - 7日留存：>20%
  - 30日留存：>10%

### 游戏性指标
- **平均对局时长**：5-10分钟
- **技能使用频率**：每分钟2-3次
- **玩家互动率**：吞噬事件每分钟1-2次
- **道具使用率**：>60%的玩家使用道具

### 技术指标
- **服务器延迟**：<100ms
- **客户端帧率**：>30 FPS
- **同时在线**：支持500+用户
- **游戏崩溃率**：<1%

---

## 🎨 视觉资源需求

### 必需的SVG图标
1. 泡泡皮肤素材
2. 地图道具图标
3. UI界面元素
4. 技能冷却指示器
5. 游戏模式图标

### 动画效果
1. 泡泡呼吸动画
2. 能量点闪烁效果
3. 技能释放特效
4. 死亡爆炸动画
5. UI按钮交互动画

---

**文档版本**: 1.0  
**创建日期**: 2024年12月19日  
**审核状态**: 待审核  
**下次更新**: 根据开发进度调整 